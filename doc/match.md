
# Матч


###### Сформуй команду
* обери собі команду
* дай кожному гравцю номер
* роздрукуй картки гравців та командну картку
* підготуй набір кубиків на команду (`MAX_DICES_PER_TURN = 5` шт. D6)


###### Підготуй команду до гри
* склади план на гру:
	* схема (табличка гравців по позиціям, номерам, іменам)
		* стартові очки атаки/захисту команди = сума всіх очків атаки/захисту її гравців у діючій схемі
        * схема (1 воротник, ≥1 захисника, ≥1 півзахисника, ≥1 нападника)
		* якщо тренер змінює роль гравця в схемі, тоді командні очки мають бути перераховані
		* польові гравці спроможні також грать і на незареєстрованих польових позиціях:
		    * якщо в обороні: att = 0, def = 1
		    * якщо в атаці: att = 1, def = 0
        * признач капітана
          * капітаном може бути тільки польовий гравець
	* малюнок атак з урахуванням використаних карток:
		* `attackPotential` кількість потенційних небезпечних моментів = сума всіх очків атаки її гравців у діючій схемі
	* надійність оборони = сума всіх очків захисту її гравців у діючій схемі
		* кожна дія атаки/захисту будується безпосередньо під час гри
	* рівень моралі з урахуванням використаних карток
		* базовый рівень моралі на матч визначається результатом 1 попередньої гри (-1 після поразки, 0 після нічиєї, +1 після перемоги)
        * якщо більше половини гравців у складі на куражі, тоді мораль команди +1; якщо всі гравці у складі на куражі, тоді мораль команди +2
        * якщо капітан на куражі не через пов'язку, тоді мораль команди +1
	* використані картки з умовами їх застосування
* картки діють лише 1 матч, потім гравці забувают настанови тренера


###### Гра
* основний час гри складається з:
  * тактичних атак обох команд
  * капітанської пробіжки обох команд
  * [TO_INVESTIGATE] розіграшу перків гравців обох команд
* рівень моралі = кількість можливостей у команди переломити хід гри (перекидаючи кубики)
  * [TO_INVESTIGATE] інші використання очок моралі?
* команди атакують по черзі
  * тренер може пропустити хід (не атакувать)
  * стадія тактичних атак закінчуються, якщо обидва тренери пропустили свій хід
* в кожній атаці/обороні можна використовувати тільки наявні `MAX_DICES_PER_TURN = 5` кубиків для атаки/оборони
* [IN_PROGRESS] тренер може провести не більш, ніж `MAX_ATTACKS_PER_MATCH = 10` атак
* тренер має сповістити суперника за свою останню атаку
* тактична атака:
	* тренер команди, що в атаці, кидає кубики, де кількість кубиків = вага відповідної атаки (частина залишившихся у нього очків атаки)
      * сповістити, якщо ці очки атаки останні
	* тренер команди, що в захисті, кидає кубики (частина залишившихся у нього очків захисту)
	* тренер команди, що в атаці, отримує можливість переломити хід гри
	* тренер команди, що в захисті, отримує можливість переломити хід гри
    * оцінка моменту:
      * якщо найкращий небезпечний момент зі створених атакою > найліпша позиція захисту, тоді гол
      * якщо найкращий небезпечний момент зі створених атакою = найліпша позиція захисту, тоді фол
	* [TO_INVESTIGATE] кожен 2й фол перетворюється не штрафний удар
	* кожен 3й фол перетворюється не пєналь
	* фоли рахуються тільки в рамках 1 матчу
* переломити хід гри:
    * тренер може перекидать кубики за наступним курсом:
        * 1 свій кубик за 1 очко командної моралі
        * 3 своїх кубика за 2 очка командної моралі
        * 1 чужий кубик за 2 очка командної моралі
        * 2 чужих кубика за 3 очка командної моралі
    * тренер може перекинути хоч всі кубики на столі, якщо стане очок моралі, але це можна зробити тільки 1 раз на кожну отриману можливість переломити хід гри
* [TO_INVESTIGATE] штрафний:
    * виконується тільки гравцем з відповідним перком?
    * не така ж механіка як у пєналей?
    * якщо гол, то лічильник фолів обнуляється?
* офсайд:
    * гол може бути відмінено через положення поза грою:
      * кидай 2 кубика: якщо випало `1` та `1`, тоді гол не зараховано
* пєналь (пробиває капітан):
	* тренер команди, що в атаці, кидає 1 кубик
	* тренер команди, що в захисті, кидає 1 кубик
	* якщо удар > бросок воротника, тоді гол
* післематчеві пєналькі:
    * серія з `_penalty_aftermatch_shots` ударів
    * малюнок серії: ABBAABBA...
    * якщо серія не виявила переможця, пробивають до першого незабитого
    * послідовність пробиваючих стала
* гол забив:
  * тренер команди, що в атаці, кидає 1 кубик:
    * якщо `1`, тоді гол забив захисник
    * якщо `2`..`3`, тоді гол забив півзахисник
    * якщо `4`..`6`, тоді гол забив нападник
  * кидай ще кубик для деталізації вибору (ймовірність у всіх гравців лінії однакова)


###### Ігрові налаштування
* `_training_games_remain` const? var?
* `_injury_games_remain` const? var?
* `_courage_games_remain` const? var?
* `_penalty_aftermatch_shots` = 2
